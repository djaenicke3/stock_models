# Dict = {'EQ': [({'c': 5.93, 'h': 5.93, 'l': 5.93, 'o': 5.93, 't': 1631023200, 'v': 100}), ({'c': 5.89, 'h': 5.89, 'l': 5.89, 'o': 5.89, 't': 1631023500, 'v': 200}), ({'c': 5.99, 'h': 5.99, 'l': 5.99, 'o': 5.99, 't': 1631025900, 'v': 212}), ({'c': 5.8, 'h': 5.8, 'l': 5.8, 'o': 5.8, 't': 1631028600, 'v': 200}), ({'c': 5.8, 'h': 5.8, 'l': 5.8, 'o': 5.8, 't': 1631029500, 'v': 100}), ({'c': 5.65, 'h': 5.65, 'l': 5.65, 'o': 5.65, 't': 1631041200, 'v': 125}), ({'c': 5.73, 'h': 5.73, 'l': 5.73, 'o': 5.73, 't': 1631043000, 'v': 100}), ({'c': 5.7, 'h': 5.7, 'l': 5.7, 'o': 5.7, 't': 1631044500, 'v': 100}), ({'c': 5.7, 'h': 5.7, 'l': 5.7, 'o': 5.7, 't': 1631111400, 'v': 300}), ({'c': 5.71, 'h': 5.71, 'l': 5.69, 'o': 5.69, 't': 1631127600, 'v': 400}), ({'c': 5.71, 'h': 5.71, 'l': 5.71, 'o': 5.71, 't': 1631127900, 'v': 400}), ({'c': 5.7, 'h': 5.7, 'l': 5.7, 'o': 5.7, 't': 1631129400, 'v': 100}), ({'c': 5.76, 'h': 5.76, 'l': 5.75, 'o': 5.75, 't': 1631130900, 'v': 360}), ({'c': 5.67, 'h': 5.67, 'l': 5.67, 'o': 5.67, 't': 1631194200, 'v': 100}), ({'c': 5.77, 'h': 5.77, 'l': 5.77, 'o': 5.77, 't': 1631194800, 'v': 200}), ({'c': 5.73, 'h': 5.73, 'l': 5.73, 'o': 5.73, 't': 1631196900, 'v': 100}), ({'c': 5.7, 'h': 5.7, 'l': 5.7, 'o': 5.7, 't': 1631197500, 'v': 100}), ({'c': 5.69, 'h': 5.69, 'l': 5.69, 'o': 5.69, 't': 1631202600, 'v': 200}), ({'c': 5.7, 'h': 5.7, 'l': 5.7, 'o': 5.7, 't': 1631202900, 'v': 350}), ({'c': 5.66, 'h': 5.66, 'l': 5.66, 'o': 5.66, 't': 1631208900, 'v': 100}), ({'c': 5.66, 'h': 5.66, 'l': 5.66, 'o': 5.66, 't': 1631211900, 'v': 104}), ({'c': 5.675, 'h': 5.675, 'l': 5.675, 'o': 5.675, 't': 1631215200, 'v': 100}), ({'c': 5.67, 'h': 5.685, 'l': 5.67, 'o': 5.685, 't': 1631216100, 'v': 200}), ({'c': 5.78, 'h': 5.79, 'l': 5.745, 'o': 5.775, 't': 1631216700, 'v': 1522}), ({'c': 5.83, 'h': 5.83, 'l': 5.83, 'o': 5.83, 't': 1631217300, 'v': 100}), ({'c': 5.89, 'h': 5.89, 'l': 5.89, 'o': 5.89, 't': 1631285700, 'v': 100}), ({'c': 5.91, 'h': 5.91, 'l': 5.91, 'o': 5.91, 't': 1631286300, 'v': 200}), ({'c': 5.89, 'h': 5.89, 'l': 5.89, 'o': 5.89, 't': 1631289000, 'v': 100}), ({'c': 5.84, 'h': 5.84, 'l': 5.84, 'o': 5.84, 't': 1631290200, 'v': 100}), ({'c': 5.81, 'h': 5.81, 'l': 5.81, 'o': 5.81, 't': 1631298900, 'v': 102}), ({'c': 5.805, 'h': 5.805, 'l': 5.805, 'o': 5.805, 't': 1631302200, 'v': 100}), ({'c': 5.81, 'h': 5.81, 'l': 5.795, 'o': 5.795, 't': 1631303100, 'v': 300}), ({'c': 5.84, 'h': 5.84, 'l': 5.84, 'o': 5.84, 't': 1631303400, 'v': 100}), ({'c': 5.79, 'h': 5.8, 'l': 5.79, 'o': 5.8, 't': 1631303700, 'v': 619}), ({'c': 5.725, 'h': 5.725, 'l': 5.725, 'o': 5.725, 't': 1631541900, 'v': 200}), ({'c': 5.585, 'h': 5.585, 'l': 5.585, 'o': 5.585, 't': 1631554800, 'v': 200}), ({'c': 5.595, 'h': 5.595, 'l': 5.595, 'o': 5.595, 't': 1631556900, 'v': 344}), ({'c': 5.54, 'h': 5.58, 'l': 5.54, 'o': 5.58, 't': 1631559600, 'v': 742}), ({'c': 5.55, 'h': 5.55, 'l': 5.55, 'o': 5.55, 't': 1631560500, 'v': 200}), ({'c': 5.62, 'h': 5.62, 'l': 5.57, 'o': 5.57, 't': 1631562600, 'v': 230}), ({'c': 5.57, 'h': 5.57, 'l': 5.57, 'o': 5.57, 't': 1631562900, 'v': 113}), ({'c': 5.61, 'h': 5.61, 'l': 5.61, 'o': 5.61, 't': 1631626200, 'v': 100}), ({'c': 5.6, 'h': 5.6, 'l': 5.6, 'o': 5.6, 't': 1631627700, 'v': 300}), ({'c': 5.56, 'h': 5.56, 'l': 5.56, 'o': 5.56, 't': 1631632200, 'v': 400}), ({'c': 5.5, 'h': 5.51, 'l': 5.5, 'o': 5.51, 't': 1631632800, 'v': 800}), ({'c': 5.39, 'h': 5.39, 'l': 5.39, 'o': 5.39, 't': 1631638200, 'v': 700}), ({'c': 5.405, 'h': 5.405, 'l': 5.405, 'o': 5.405, 't': 1631642700, 'v': 100}), ({'c': 5.42, 'h': 5.42, 'l': 5.42, 'o': 5.42, 't': 1631643000, 'v': 100}), ({'c': 5.435, 'h': 5.435, 'l': 5.435, 'o': 5.435, 't': 1631643900, 'v': 100}), ({'c': 5.42, 'h': 5.42, 'l': 5.4, 'o': 5.4, 't': 1631646600, 'v': 300}), ({'c': 5.42, 'h': 5.42, 'l': 5.42, 'o': 5.42, 't': 1631646900, 'v': 100}), ({'c': 5.42, 'h': 5.42, 'l': 5.42, 'o': 5.42, 't': 1631647200, 'v': 100}), ({'c': 5.37, 'h': 5.4, 'l': 5.37, 'o': 5.4, 't': 1631649000, 'v': 400}), ({'c': 5.35, 'h': 5.375, 'l': 5.35, 'o': 5.36, 't': 1631649300, 'v': 517}), ({'c': 5.49, 'h': 5.49, 'l': 5.45, 'o': 5.45, 't': 1631712900, 'v': 300}), ({'c': 5.51, 'h': 5.51, 'l': 5.51, 'o': 5.51, 't': 1631713200, 'v': 200}), ({'c': 5.58, 'h': 5.58, 'l': 5.58, 'o': 5.58, 't': 1631714100, 'v': 100}), ({'c': 5.58, 'h': 5.59, 'l': 5.58, 'o': 5.59, 't': 1631715300, 'v': 300}), ({'c': 5.59, 'h': 5.59, 'l': 5.43, 'o': 5.43, 't': 1631718300, 'v': 416}), ({'c': 5.76, 'h': 5.76, 'l': 5.7, 'o': 5.7, 't': 1631725200, 'v': 705}), ({'c': 5.76, 'h': 5.76, 'l': 5.76, 'o': 5.76, 't': 1631726100, 'v': 110}), ({'c': 5.75, 'h': 5.75, 'l': 5.7, 'o': 5.7, 't': 1631730300, 'v': 222}), ({'c': 5.75, 'h': 5.75, 'l': 5.75, 'o': 5.75, 't': 1631730600, 'v': 100}), ({'c': 5.745, 'h': 5.745, 'l': 5.745, 'o': 5.745, 't': 1631735100, 'v': 210}), ({'c': 5.825, 'h': 5.83, 'l': 5.815, 'o': 5.815, 't': 1631735400, 'v': 434}), ({'c': 5.81, 'h': 5.87, 'l': 5.81, 'o': 5.87, 't': 1631735700, 'v': 602}), ({'c': 5.81, 'h': 5.81, 'l': 5.81, 'o': 5.81, 't': 1631799000, 'v': 100}), ({'c': 5.6, 'h': 5.6, 'l': 5.6, 'o': 5.6, 't': 1631811900, 'v': 100}), ({'c': 5.76, 'h': 5.76, 'l': 5.67, 'o': 5.67, 't': 1631812200, 'v': 200}), ({'c': 5.63, 'h': 5.67, 'l': 5.63, 'o': 5.67, 't': 1631812500, 'v': 891}), ({'c': 5.67, 'h': 5.67, 'l': 5.67, 'o': 5.67, 't': 1631816400, 'v': 100}), ({'c': 5.71, 'h': 5.71, 'l': 5.71, 'o': 5.71, 't': 1631817600, 'v': 100}), ({'c': 5.785, 'h': 5.785, 'l': 5.785, 'o': 5.785, 't': 1631820300, 'v': 100}), ({'c': 5.8, 'h': 5.8, 'l': 5.8, 'o': 5.8, 't': 1631820900, 'v': 105}), ({'c': 5.86, 'h': 5.86, 'l': 5.86, 'o': 5.86, 't': 1631821800, 'v': 401}), ({'c': 5.89, 'h': 5.89, 'l': 5.89, 'o': 5.89, 't': 1631822100, 'v': 200}), ({'c': 5.89, 'h': 5.89, 'l': 5.89, 'o': 5.89, 't': 1631891400, 'v': 308}), ({'c': 6.41, 'h': 6.41, 'l': 6.22, 'o': 6.22, 't': 1631908200, 'v': 800}), ({'c': 6.38, 'h': 6.4, 'l': 6.34, 'o': 6.35, 't': 1631908500, 'v': 689}), ({'c': 6.11, 'h': 6.12, 'l': 6.11, 'o': 6.12, 't': 1632147900, 'v': 200}), ({'c': 5.84, 'h': 5.84, 'l': 5.84, 'o': 5.84, 't': 1632162000, 'v': 100}), ({'c': 5.81, 'h': 5.81, 'l': 5.81, 'o': 5.81, 't': 1632162300, 'v': 200}), ({'c': 5.81, 'h': 5.81, 'l': 5.81, 'o': 5.81, 't': 1632162900, 'v': 100}), ({'c': 5.94, 'h': 5.94, 'l': 5.94, 'o': 5.94, 't': 1632167400, 'v': 448}), ({'c': 5.96, 'h': 5.96, 'l': 5.96, 'o': 5.96, 't': 1632167700, 'v': 115}), ({'c': 5.95, 'h': 5.95, 'l': 5.95, 'o': 5.95, 't': 1632236400, 'v': 100}), ({'c': 6.25, 'h': 6.25, 'l': 6.25, 'o': 6.25, 't': 1632252900, 'v': 201}), ({'c': 6.39, 'h': 6.39, 'l': 6.39, 'o': 6.39, 't': 1632253800, 'v': 300}), ({'c': 6.47, 'h': 6.515, 'l': 6.47, 'o': 6.515, 't': 1632254100, 'v': 320}), ({'c': 6.8, 'h': 6.8, 'l': 6.8, 'o': 6.8, 't': 1632323700, 'v': 200}), ({'c': 6.79, 'h': 6.79, 'l': 6.79, 'o': 6.79, 't': 1632335100, 'v': 114}), ({'c': 6.82, 'h': 6.82, 'l': 6.82, 'o': 6.82, 't': 1632338100, 'v': 100}), ({'c': 6.76, 'h': 6.77, 'l': 6.76, 'o': 6.76, 't': 1632339000, 'v': 600}), ({'c': 6.57, 'h': 6.64, 'l': 6.57, 'o': 6.64, 't': 1632339300, 'v': 300}), ({'c': 6.69, 'h': 6.69, 'l': 6.69, 'o': 6.69, 't': 1632340500, 'v': 100}), ({'c': 6.695, 'h': 6.695, 'l': 6.695, 'o': 6.695, 't': 1632413100, 'v': 100}), ({'c': 6.82, 'h': 6.82, 'l': 6.82, 'o': 6.82, 't': 1632425400, 'v': 600}), ({'c': 6.85, 'h': 6.85, 'l': 6.85, 'o': 6.85, 't': 1632426900, 'v': 200}), ({'c': 6.845, 'h': 6.845, 'l': 6.845, 'o': 6.845, 't': 1632493500, 'v': 100}), ({'c': 6.84, 'h': 6.84, 'l': 6.84, 'o': 6.84, 't': 1632493800, 'v': 100})]}
import alpaca_trade_api as tradeapi
import json
from datetime import datetime
import requests
import ta
import numpy as np



import pandas as pd
ALPACA_API_KEY = "PK5Q2YVJJ38P4WRYKXMF"
ALPACA_SECRET_KEY = "UVLNeh8enYEav7JZnani2wA8SLPWNWPxqaxhwczG"
base_url = 'https://paper-api.alpaca.markets'

api = tradeapi.REST(ALPACA_API_KEY, ALPACA_SECRET_KEY, base_url, api_version='v2')
#This is for checking account status
# account = api.get_account()
# print(account)


#Code for getting data
eq = api.get_barset('EQ', '5Min')
print(type(eq))
df = pd.DataFrame()

def data_in_df()
for i in  eq["EQ"]:
    a = str(i)
    a = a[4:-1]
    a =  a.replace("'",'"')
    a = json.loads(a)
    print(type(a))
    df = df.append(a,ignore_index=True)
print(df.tail())
print(eq)